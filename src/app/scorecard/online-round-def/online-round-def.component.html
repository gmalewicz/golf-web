<div *ngIf="display">
  <form [formGroup]="defScoreCardForm">
    <div class="form-row">
      <h2>
        {{course.name}}
      </h2>
    </div>
    <div class="form-group">
      <label>Tee time:</label>
      <span class="form-inline">
        <input type="text" maxlength="5" formControlName="teeTime" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.teeTime.errors }" placeholder="HH:MM" />
        <div *ngIf="submitted && f.teeTime.errors" class="invalid-feedback">
          <div *ngIf="f.teeTime.errors.required">Tee time is required</div>
          <div *ngIf="f.teeTime.errors.pattern">
            Provide the valid tee time
          </div>
        </div>
      </span>
    </div>
    <div class="custom-control custom-checkbox custom-checkbox-green">
      <input type="checkbox" class="custom-control-input custom-control-input-green" id="matchPlay" formControlName="matchPlay"
        (ngModelChange)="onMatchPlayChange($event)">
      <label class="custom-control-label" for="matchPlay">Match Play Round</label>
    </div>
    <br />
    <div class="btn-group btn-group-toggle" data-toggle="buttons">
      <label class="btn btn-outline-success" [ngClass]="{disabled: f.matchPlay.value, active: noOfPlayers === 1}">
        <input type="radio" name="players" id="player1" autocomplete="off" checked (click)="onPlayers(1)"> 1 player
      </label>
      <label class="btn btn-outline-success" [ngClass]="{active: noOfPlayers === 2}">
        <input type="radio" name="players" id="player2" autocomplete="off" (click)="onPlayers(2)"> 2 players
      </label>
      <label class="btn btn-outline-success" [ngClass]="{disabled: f.matchPlay.value, active: noOfPlayers === 3}">
        <input type="radio" name="players" id="player3" autocomplete="off" (click)="onPlayers(3)"> 3 players
      </label>
      <label class="btn btn-outline-success" [ngClass]="{disabled: f.matchPlay.value, active: noOfPlayers === 4}">
        <input type="radio" name="players" id="player4" autocomplete="off" (click)="onPlayers(4)"> 4 players
      </label>
    </div>
    <br />
    <br />

    <div>
      <label for="player1Lbl">Player 1 username:</label>
      <div class="form-row">
        <div class="form-group">
          <input type="text" formControlName="nick1" class="form-control" value={{players[0].nick}}/>
        </div>
        <span>
          &nbsp;
          <fa-icon [icon]="faCheckCircle" class="golf-green"></fa-icon>
          &nbsp;
        </span>
        <div class="form-group">
          <p-dropdown (onChange)="teeChange(0)" formControlName="teeDropDown1" [options]="teeOptions"
            [ngClass]="{ 'is-invalid': submitted && f.teeDropDown1.errors }" placeholder="tee">
          </p-dropdown>
          <div *ngIf="submitted && f.teeDropDown1.errors" class="invalid-feedback">
            <div *ngIf="f.teeDropDown1.errors.required">Tee is required</div>
          </div>
        </div>
        <span *ngIf="tees[0] != null">
          &nbsp;
          <fa-icon [icon]="faCheckCircle" class="golf-green"></fa-icon>
        </span>
      </div>
    </div>

    <div *ngIf="noOfPlayers > 1">
      <label for="player2Lbl">Player 2 username:</label>
      <div class="form-row">
        <div class="form-group">
          <input type="text" formControlName="nick2" class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.nick2.errors }" />
          <div *ngIf="submitted && f.nick2.errors" class="invalid-feedback">
            <div *ngIf="f.nick2.errors.required">Player nick is required</div>
          </div>
        </div>
        <span>
          &nbsp;
          <span *ngIf="players[1] == null">
            <fa-icon [icon]="faSearchPlus" class="golf-green" (click)="onSearchPlayer(1)"></fa-icon>
          </span>
          <span *ngIf="players[1] != null">
            <fa-icon [icon]="faCheckCircle" class="golf-green"></fa-icon>
          </span>
          &nbsp;
        </span>
        <div class="form-group">
          <p-dropdown (onChange)="teeChange(1)" formControlName="teeDropDown2" [options]="teeOptions"
            [ngClass]="{ 'is-invalid': submitted && f.teeDropDown2.errors }" placeholder="tee">
          </p-dropdown>
          <div *ngIf="submitted && f.teeDropDown2.errors" class="invalid-feedback">
            <div *ngIf="f.teeDropDown2.errors.required">Tee is required</div>
          </div>
        </div>
        <span *ngIf="tees[1] != null">
          &nbsp;
          <fa-icon [icon]="faCheckCircle" class="golf-green"></fa-icon>
        </span>
      </div>
    </div>

    <div *ngIf="noOfPlayers > 2">
      <label for="player3Lbl">Player 3 username:</label>
      <div class="form-row">
        <div class="form-group">
          <input type="text" formControlName="nick3" class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.nick3.errors }" />
          <div *ngIf="submitted && f.nick3.errors" class="invalid-feedback">
            <div *ngIf="f.nick3.errors.required">Player nick is required</div>
          </div>
        </div>
        <span>
          &nbsp;
          <span *ngIf="players[2] == null">
            <fa-icon [icon]="faSearchPlus" class="golf-green" (click)="onSearchPlayer(2)"></fa-icon>
          </span>
          <span *ngIf="players[2] != null">
            <fa-icon [icon]="faCheckCircle" class="golf-green"></fa-icon>
          </span>
          &nbsp;
        </span>
        <div class="form-group">
          <p-dropdown (onChange)="teeChange(2)" formControlName="teeDropDown3" [options]="teeOptions"
            [ngClass]="{ 'is-invalid': submitted && f.teeDropDown3.errors }" placeholder="tee">
          </p-dropdown>
          <div *ngIf="submitted && f.teeDropDown3.errors" class="invalid-feedback">
            <div *ngIf="f.teeDropDown3.errors.required">Tee is required</div>
          </div>
        </div>
        <span *ngIf="tees[2] != null">
          &nbsp;
          <fa-icon [icon]="faCheckCircle" class="golf-green"></fa-icon>
        </span>
      </div>
    </div>

    <div *ngIf="noOfPlayers > 3">
      <label for="player4Lbl">Player 4 username:</label>
      <div class="form-row">
        <div class="form-group">
          <input type="text" formControlName="nick4" class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.nick4.errors }" />
          <div *ngIf="submitted && f.nick4.errors" class="invalid-feedback">
            <div *ngIf="f.nick4.errors.required">Player nick is required</div>
          </div>
        </div>
        <span>
          &nbsp;
          <span *ngIf="players[3] == null">
            <fa-icon [icon]="faSearchPlus" class="golf-green" (click)="onSearchPlayer(3)"></fa-icon>
          </span>
          <span *ngIf="players[3] != null">
            <fa-icon [icon]="faCheckCircle" class="golf-green"></fa-icon>
          </span>
          &nbsp;
        </span>
        <div class="form-group">
          <p-dropdown (onChange)="teeChange(3)" formControlName="teeDropDown4" [options]="teeOptions"
            [ngClass]="{ 'is-invalid': submitted && f.teeDropDown4.errors }" placeholder="tee">
          </p-dropdown>
          <div *ngIf="submitted && f.teeDropDown4.errors" class="invalid-feedback">
            <div *ngIf="f.teeDropDown4.errors.required">Tee is required</div>
          </div>
        </div>
        <span *ngIf="tees[3] != null">
          &nbsp;
          <fa-icon [icon]="faCheckCircle" class="golf-green"></fa-icon>
        </span>
      </div>
    </div>
    <div class="custom-control custom-checkbox custom-checkbox-green">
      <input type="checkbox" class="custom-control-input custom-control-input-green" id="customCheck1" formControlName="putts">
      <label class="custom-control-label" for="customCheck1">Include putts</label>
    </div>
    <div class="custom-control custom-checkbox custom-checkbox-green">
      <input type="checkbox" class="custom-control-input custom-control-input-green" id="customCheck2" formControlName="penalties">
      <label class="custom-control-label" for="customCheck2">Include penalties</label>
    </div>
  </form>
  <div>
    <br />
    <div class="form-group">
      <button type="button" class="btn btn-success" routerLink="">
        Cancel
      </button>
      &nbsp;
      <button type="button" class="btn btn-success" (click)="onStartOnlineRound()">
        Start
      </button>
    </div>
  </div>
</div>
