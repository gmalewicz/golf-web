<h2>Modify your data:</h2>
<form [formGroup]="updateForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="password">Password</label>
    <input
      autocomplete="new-password"
      type="password"
      formControlName="password"
      class="form-control"
      [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
    />
    <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
      <div *ngIf="f.password.errors.minlength">
        Password must be at least 6 characters
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="whs">WHS (handicap)</label>
    <input
      type="text"
      formControlName="whs"
      class="form-control"
      maxlength="4"
      [ngClass]="{ 'is-invalid': submitted && f.whs.errors }"
      placeholder="X.X"
    />
    <div *ngIf="submitted && f.whs.errors" class="invalid-feedback">
      <div *ngIf="f.whs.errors.required">WHS is required</div>
      <div *ngIf="f.whs.errors.max">WHS is caannot be higer than 54</div>
      <div *ngIf="f.whs.errors.min">WHS is caannot be lower than -5</div>
      <div *ngIf="f.whs.errors.pattern">
        Provide valid value with the follwoing format: X.X
      </div>
    </div>
  </div>
  <div class="form-group">
    <button [disabled]="loading" class="btn btn-success">
      <span
        *ngIf="loading"
        class="spinner-border spinner-border-sm mr-1"
      ></span>
      Update
    </button>
    <a routerLink="/" class="btn btn-link text-success">Cancel</a>
  </div>
</form>
<div *ngIf="role === 0">
  <h2>Reset password for player:</h2>

  <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmitResetPassword()">
    <div class="form-group">
      <label for="nick">Nick</label>
      <input
        type="text"
        formControlName="nick"
        class="form-control"
        [ngClass]="{ 'is-invalid': submittedReset && fReset.nick.errors }"
      />
      <div
        *ngIf="submittedReset && fReset.nick.errors"
        class="invalid-feedback"
      >
        <div *ngIf="fReset.nick.errors.required">Nick is required</div>
        <div *ngIf="fReset.nick.errors.maxlength">
          Nick can be up to 10 characters long
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input
        autocomplete="new-password"
        type="password"
        formControlName="password"
        class="form-control"
        [ngClass]="{ 'is-invalid': submittedReset && fReset.password.errors }"
      />
      <div
        *ngIf="submittedReset && fReset.password.errors"
        class="invalid-feedback"
      >
        <div *ngIf="fReset.password.errors.minlength">
          Password must be at least 6 characters
        </div>
      </div>
    </div>
    <div class="form-group">
      <button [disabled]="loading" class="btn btn-success">
        <span
          *ngIf="resetLoading"
          class="spinner-border spinner-border-sm mr-1"
        ></span>
        Reset
      </button>
      <a routerLink="/" class="btn btn-link text-success">Cancel</a>
    </div>
  </form>
  <h2>Move course to history:</h2>
  <form [formGroup]="moveCourseForm" (ngSubmit)="onSubmitMoveCourse()">
    <div class="form-group">
      <label for="courseId">Course id</label>
      <input
        type="text"
        formControlName="courseId"
        class="form-control"
        [ngClass]="{ 'is-invalid': submittedMoveCourse && fMove.courseId.errors }"
      />
      <div
        *ngIf="submittedMoveCourse && fMove.courseId.errors"
        class="invalid-feedback"
      >
        <div *ngIf="fMove.courseId.errors.required">Course id is required</div>
        <div *ngIf="fMove.courseId.errors.pattern">
          Course id can be up to 10 digits long and can not start from 0
        </div>
      </div>
    </div>
    <div class="form-group">
      <button [disabled]="loading" class="btn btn-success">
        <span
          *ngIf="moveLoading"
          class="spinner-border spinner-border-sm mr-1"
        ></span>
        Move
      </button>
      <a routerLink="/" class="btn btn-link text-success">Cancel</a>
    </div>
  </form>
</div>
