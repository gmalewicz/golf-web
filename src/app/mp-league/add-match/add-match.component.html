
<div *ngIf="!isDisplay()" class="d-flex justify-content-center">
  <span class="spinner-border text-success" style="width: 3rem; height: 3rem;" role="status"></span>
</div>
<div *ngIf="isDisplay()">
  <h2 span i18n="@@addMatch-hdr">Add match results for league: {{navigationService.league().name}}</h2>
  <br/>
  <form [formGroup]="matchResultForm">
    <div class="row align-items-start">
      <div class="col-auto">
        <mat-form-field>
          <mat-label>winner</mat-label>
          <mat-select [formControlName]="'winnerDropDown'">
            @for (player of playerOptions; track player) {
              <mat-option [value]="player.value">{{player.label}}</mat-option>
            }
          </mat-select>
          @if (f.winnerDropDown.invalid  && f.winnerDropDown.errors) {
            <mat-error i18n="@@addMatch-nickReq">Winner and looser are required</mat-error>
          }
        </mat-form-field>
      </div>

      <div class="col-auto">
        <mat-form-field>
          <mat-label>result</mat-label>
          <mat-select [formControlName]="'resultDropDown'">
            @for (result of resultOptions; track result) {
              <mat-option [value]="result.value">{{result.label}}</mat-option>
            }
          </mat-select>
          @if (f.resultDropDown.invalid  && f.resultDropDown.errors) {
            <mat-error i18n="@@addMatch-resultReq">Result is required</mat-error>
          }
        </mat-form-field>
      </div>

      <div class="col-auto">
        <mat-form-field>
          <mat-label>looser</mat-label>
          <mat-select [formControlName]="'looserDropDown'">
            @for (player of playerOptions; track player) {
              <mat-option [value]="player.value">{{player.label}}</mat-option>
            }
          </mat-select>
          @if (f.looserDropDown.invalid  && f.looserDropDown.errors) {
            <mat-error i18n="@@addMatch-nickReq">Winner and looser are required</mat-error>
          }
        </mat-form-field>
      </div>

    </div>
  </form>
  <br/>
  <div>
    <div class="form-group">
      <button type="button" class="btn btn-success btn-clear w-80" routerLink="/mpLeagues/league" i18n="@@addMatch-cancel">
        Cancel
      </button>
      &nbsp;
      <button type="button" class="btn btn-success btn-clear w-80" (click)="clear()" i18n="@@addMatch-clear">
        Clear
      </button>
      &nbsp;
      <button type="button" class="btn btn-success btn-submit w-80" (click)="addMatchResult()" i18n="@@addMatch-add">
        Add
      </button>
    </div>
  </div>
</div>


